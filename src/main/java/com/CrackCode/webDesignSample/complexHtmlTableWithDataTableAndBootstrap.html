
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Complex Table Example</title>

    <!-- Include jQuery and DataTables CSS/JS -->
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Bootstrap CSS -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>

    <style>
        /* General Table Styles */
        table {
            border-collapse: collapse;
            width: 100%;
            table-layout: auto; /* Allows columns to adjust dynamically */
        }

        th, td {
            border: 1px solid black;
            padding: 0; /* Removed padding to make sure content fits perfectly */
            text-align: left;
            vertical-align: top; /* Align text to the top */
        }

        /* Fixed first column */
        .fixed-column {
            position: sticky;
            left: 0;
            background-color: #eee4e4; /* Ensures readability */
            z-index: 1; /* Keeps the fixed column on top */
        }

        .fixed-column div {
            /* Fixed column in rows */
            display: flex;
            justify-content: center;
        }

        .header-multi-column div {
            display: flex;
            flex-grow: 1;
            height: 100%;
            position: relative;
        }

        .header-multi-column div div {
            flex: 1; /* Distribute space equally */
            border-left: 1px solid black; /* Remove right border and apply left to the next cell */
            padding: 4px;
        }

        /* Adding right border for the last header column */
        .header-multi-column div div:last-child {
            border-right: 1px solid black;
        }

        /* Multi-row cell styling */
        .multi-row-cell {
            display: flex;
            flex-direction: column;
            height: 100%;
            padding: 0;
            margin: 0;
        }

        .multi-row-cell > div {
            display: flex;
            flex-grow: 1; /* Ensure the rows take up available space */
            border: 1px solid black;
        }

        .multi-row-cell > div > div {
            flex: 1; /* Distribute space equally in each row */
            border-left: 1px solid black; /* Same approach for data cells */
            padding: 4px;
        }

        .multi-row-cell > div > div:last-child {
            border-right: 1px solid black;
        }

        /* Button in the header */
        .header-button {
            border: none; /* Remove border */
            background: none; /* No background */
            padding: 6%;
            margin: 0;
        }

        /* Styling to ensure the button spans full height */
        .header-multi-column div {
            align-items: stretch; /* Ensures the button spans full height */
        }

        /* Optional: Add hover effect for better UX */
        .header-button:hover {
            cursor: pointer;
            color: blue; /* Change color on hover */
        }
    </style>
</head>
<body class="ml-4 mr-4 mt-4">

<table id="example" class="table table-striped" style="width:100%">
    <thead>
    <tr>
        <th class="fixed-column" style="background-color: #e4e9ea; border-bottom: 1px solid black; text-align: center">Fixed Column</th>
        <th class="multi-row-cell m-0 p-0">
            <div>
                <div><p class="header-button">Beneficiary Acc</p></div>
                <div><p class="header-button">Beneficiary Name</p></div>
                <div><p class="header-button">Amount</p></div>
                <div><p class="header-button">Narration</p></div>
                <div><p class="header-button">Mobile No</p></div>
            </div>
        </th>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="fixed-column">
            <div>
                <a href="#" onclick="alert('show group details')">A</a>
            </div>
            <div>
                <p>parentRef</p>
            </div>
        </td>
        <td class="multi-row-cell m-0 p-0">
            <div>
                <div>Row 1, Col 2 - Cell 1.1</div>
                <div>Row 1, Col 2 - Cell 1.2</div>
                <div>Row 1, Col 2 - Cell 1.3</div>
                <div>Row 1, Col 2 - Cell 1.3</div>
                <div>Row 1, Col 2 - Cell 1.3</div>
            </div>
            <div>
                <div>Row 1, Col 2 - Cell 2.1</div>
                <div>Row 1, Col 2 - Cell 2.2</div>
                <div>Row 1, Col 2 - Cell 2.3</div>
                <div>Row 1, Col 2 - Cell 2.3</div>
                <div>Row 1, Col 2 - Cell 2.3</div>
            </div>
            <div>
                <div>Row 1, Col 2 - Cell 3.1</div>
                <div>Row 1, Col 2 - Cell 3.2</div>
                <div>Row 1, Col 2 - Cell 3.3</div>
                <div>Row 1, Col 2 - Cell 3.3</div>
                <div>Row 1, Col 2 - Cell 3.3</div>
            </div>
        </td>
    </tr>
    <tr>
        <td class="fixed-column">
            <div>
                <a href="#" onclick="alert('show group details')">B</a>
            </div>
            <div>
                <p>parentRef</p>
            </div>
        </td>
        <td class="multi-row-cell m-0 p-0">
            <div>
                <div>Row 1, Col 2 - Cell 1.1</div>
                <div>Row 1, Col 2 - Cell 1.2</div>
                <div>Row 1, Col 2 - Cell 1.3</div>
                <div>Row 1, Col 2 - Cell 1.3</div>
                <div>Row 1, Col 2 - Cell 1.3</div>
            </div>
            <div>
                <div>Row 1, Col 2 - Cell 2.1</div>
                <div>Row 1, Col 2 - Cell 2.2</div>
                <div>Row 1, Col 2 - Cell 2.3</div>
                <div>Row 1, Col 2 - Cell 2.3</div>
                <div>Row 1, Col 2 - Cell 2.3</div>
            </div>
            <div>
                <div>Row 1, Col 2 - Cell 3.1</div>
                <div>Row 1, Col 2 - Cell 3.2</div>
                <div>Row 1, Col 2 - Cell 3.3</div>
                <div>Row 1, Col 2 - Cell 3.3</div>
                <div>Row 1, Col 2 - Cell 3.3</div>
            </div>
        </td>
    </tr>
    </tbody>
</table>

<script>
    // Apply DataTables to the table
    $(document).ready(function () {
        $('#example').DataTable();
    });
</script>

</body>
</html>